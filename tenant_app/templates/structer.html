from django.shortcuts import render,HttpResponse,redirect from .models import student from .models import candidate from .models import Hr,employee from .forms import employe_form # Create your views here. from .import views from django.contrib import
messages def index(request): return render(request,"index.html") def register(request): return render(request,"register.html") def login(request): return render(request,"login.html") def saveform(request): if request.method == "POST": fn=request.POST["name"]
em=request.POST["email"] ps=request.POST["password"] p=student(name=fn,email=em,password=ps) p.save() return redirect("/studentdata") else: return HttpResponse("registration failed") def studentdata(request): data=student.objects.all().order_by('-id')
return render(request,"data.html",{'data':data}) def deletedata(request): id=request.GET['id'] student.objects.all().filter(id=id).delete() return redirect("/studentdata") def profileupdate(request): id=request.GET['id'] data=student.objects.all().filter(id=id)
return render(request,"profile.html",{'data':data}) def editprofile(request): if request.method == "POST": id=request.POST["id"] fn=request.POST["name"] em=request.POST["email"] ps=request.POST["password"] student.objects.all().filter(id=id).update(name=fn,email=em,password=ps)
return redirect('/studentdata') else: return redirect('/studentdata') def savecandidate(request): if request.method=='POST': nm=request.POST["cname"] skill=request.POST["skills"] exp=request.POST["experience"] c=candidate(Cname=nm, skill=skill, experience=exp)
c.save() return redirect("/candidatetdata") else: return HttpResponse("registration failed") def saveHr(request): if request.method=='POST': comp=request.POST["companyname"] con=request.POST["contact"] add=request.POST["address"] h=Hr(companyname=comp,contact=con,address=add)
h.save() return redirect("/hrdata") else: return HttpResponse("registration failed") def task(request): return render(request,"task.html") def candidatetdata(request): data=candidate.objects.all().order_by('-id') return render(request,"datacandidate.html",{'data':data})
def hrdata(request): data=Hr.objects.all().order_by('-id') return render(request,"hrdata.html",{'data':data}) def cdeletedata(request): id=request.GET['id'] candidate.objects.all().filter(id=id).delete() return HttpResponse("Datadeleted") def logincheck(request):
if request.method=='POST': em=request.POST["email"] ps=request.POST["password"] data=student.objects.all().filter(email=em,password=ps) if data: request.session["username"]=em messages.success(request,"Login successfully completed") return redirect('/index')
else: return redirect('/login') def dashboard(request): if request.session.get("username") is not None: return render(request,"dashboard.html") else: return redirect('/login') def logout(request): del request.session["username"] messages.success(request,"logout
succesfully") return redirect("/login") def addcookie(request): res=HttpResponse ("cookie set succesfully") res.set_cookie("studentname","atharav") res.set_cookie("studentaddrss","satara") return res def showcookie(request): name=request.COOKIES["studentname"]
return HttpResponse(name) def fileupload(request): e=employe_form() return render(request,"fileupload.html",{'form':e}) def savefile(request): if request.method=='POST': nm=request.POST["name"] em=request.POST["email"] ps=request.POST["password"] ph=request.FILES["photo"]
e=employee(name=nm,email=em,password=ps,photo=ph) e.save() return HttpResponse("success added file") else: return HttpResponse('fail')